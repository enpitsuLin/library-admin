{"version":3,"sources":["webpack:///./src/views/user/Login.vue?baa4","webpack:///./src/views/user/Login.vue?5f83","webpack:///./src/utils/util.js","webpack:///src/views/user/Login.vue","webpack:///./src/views/user/Login.vue?b5b3","webpack:///./src/views/user/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","span","_v","ref","form","rules","model","value","callback","$$v","$set","expression","loginBtnLoading","on","$event","onLoginClick","staticRenderFns","timeFix","time","Date","hour","getHours","data","username","password","methods","$refs","loginForm","validate","valid","Login","then","onLoginSuccess","$notification","success","message","description","setTimeout","path","component"],"mappings":"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","file":"js/chunk-ecdba1e2.efcace18.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=ef4ca250&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-content\"},[_vm._m(0),_c('div',{staticClass:\"login-content-main\"},[_c('a-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\",\"gutter\":0}},[_c('a-col',{attrs:{\"xs\":{ span: 0 },\"md\":{ span: 11 }}},[_c('div',{staticClass:\"qcode-wrap\"},[_c('div',{staticClass:\"qcode-img\"},[_c('img',{attrs:{\"src\":\"\",\"alt\":\"\"}})]),_c('div',{staticClass:\"qcode-footer\"},[_c('span',[_vm._v(\" 请使用微信扫描二维码登录 \")])])])]),_c('a-col',{attrs:{\"xs\":{ span: 0 },\"sm\":{ span: 1 }}},[_c('a-divider',{staticClass:\"divider\",attrs:{\"type\":\"vertical\"}})],1),_c('a-col',{attrs:{\"xs\":{ span: 24 },\"md\":{ span: 11 }}},[_c('div',{staticClass:\"login-form-wrap\"},[_c('a-form-model',{ref:\"loginForm\",staticClass:\"login-form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('a-form-model-item',{attrs:{\"prop\":\"username\"}},[_c('a-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('a-form-model-item',{attrs:{\"prop\":\"password\"}},[_c('a-input-password',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('a-form-model-item',[_c('a-button',{staticClass:\"login-form-button\",attrs:{\"type\":\"primary\",\"loading\":_vm.loginBtnLoading},on:{\"click\":function($event){return _vm.onLoginClick()}}},[_vm._v(\" 登录 \")])],1)],1)],1)])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-content-title\"},[_c('div',{staticClass:\"main-title\",attrs:{\"data-v-24ee61b5\":\"\"}},[_vm._v(\"图书馆账号登录\")])])}]\n\nexport { render, staticRenderFns }","export function timeFix() {\r\n    const time = new Date()\r\n    const hour = time.getHours()\r\n    return hour < 4 ? '凌晨好' : hour < 9 ? '早上好' : hour <= 11 ? '上午好' : hour <= 13 ? '中午好' : hour < 20 ? '下午好' : '晚上好'\r\n}\r\n\r\nexport function welcome() {\r\n    const arr = ['休息一会儿吧', '准备吃点什么呢?', '我猜你可能累了', '摸一会鱼如何?']\r\n    const index = Math.floor(Math.random() * arr.length)\r\n    return arr[index]\r\n}","<template>\r\n  <div class=\"login-content\">\r\n    <div class=\"login-content-title\">\r\n      <div class=\"main-title\" data-v-24ee61b5=\"\">图书馆账号登录</div>\r\n    </div>\r\n    <div class=\"login-content-main\">\r\n      <a-row type=\"flex\" justify=\"space-between\" :gutter=\"0\">\r\n        <a-col :xs=\"{ span: 0 }\" :md=\"{ span: 11 }\">\r\n          <div class=\"qcode-wrap\">\r\n            <div class=\"qcode-img\">\r\n              <img src=\"\" alt=\"\" />\r\n            </div>\r\n            <div class=\"qcode-footer\">\r\n              <span> 请使用微信扫描二维码登录 </span>\r\n            </div>\r\n          </div>\r\n        </a-col>\r\n        <a-col :xs=\"{ span: 0 }\" :sm=\"{ span: 1 }\">\r\n          <a-divider type=\"vertical\" class=\"divider\" />\r\n        </a-col>\r\n        <a-col :xs=\"{ span: 24 }\" :md=\"{ span: 11 }\">\r\n          <div class=\"login-form-wrap\">\r\n            <a-form-model\r\n              ref=\"loginForm\"\r\n              class=\"login-form\"\r\n              :model=\"form\"\r\n              :rules=\"rules\"\r\n            >\r\n              <a-form-model-item prop=\"username\">\r\n                <a-input v-model=\"form.username\" />\r\n              </a-form-model-item>\r\n              <a-form-model-item prop=\"password\">\r\n                <a-input-password v-model=\"form.password\" type=\"password\" />\r\n              </a-form-model-item>\r\n              <a-form-model-item>\r\n                <a-button\r\n                  type=\"primary\"\r\n                  @click=\"onLoginClick()\"\r\n                  class=\"login-form-button\"\r\n                  :loading=\"loginBtnLoading\"\r\n                >\r\n                  登录\r\n                </a-button>\r\n              </a-form-model-item>\r\n            </a-form-model>\r\n          </div>\r\n        </a-col>\r\n      </a-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nimport { timeFix } from \"@/utils/util\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      loginBtnLoading: false,\r\n      form: {\r\n        username: \"\",\r\n        password: \"\",\r\n      },\r\n      rules: {\r\n        username: [\r\n          { required: true, message: \"输入学号/工号\", trigger: \"blur\" },\r\n        ],\r\n        password: [{ required: true, message: \"输入密码\", trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions([\"Login\"]),\r\n    onLoginClick() {\r\n      this.loginBtnLoading = true;\r\n      const { form, Login } = this;\r\n      this.$refs.loginForm.validate((valid) => {\r\n        if (valid) {\r\n          Login(form).then(() => {\r\n            this.loginBtnLoading = false;\r\n            this.onLoginSuccess();\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    onLoginSuccess() {\r\n      this.$notification.success({\r\n        message: \"欢迎\",\r\n        description: `${timeFix()}，欢迎回来，现在进入首页`,\r\n      });\r\n\r\n      // 延迟 1 秒进入主页\r\n      setTimeout(() => {\r\n        this.$router.push({\r\n          path: \"/\",\r\n        });\r\n      }, 1000);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.login-content {\r\n  width: 100%;\r\n  padding-top: 120px;\r\n\r\n  .login-content-title {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    .main-title {\r\n      padding: 0px 0 48px;\r\n      font-size: 25.6px;\r\n      color: #191919;\r\n    }\r\n  }\r\n  .login-content-main {\r\n    padding: 0 18px;\r\n    .qcode-wrap {\r\n      width: 50%;\r\n      margin-left: 50%;\r\n      @media screen and (max-width: 1024px) {\r\n        width: 100%;\r\n        margin: 0 auto;\r\n      }\r\n      .qcode-img {\r\n        width: 200px;\r\n        height: 200px;\r\n        padding: 20px;\r\n        margin: 0 auto;\r\n        background: #f7f7f7;\r\n        border-radius: 8px;\r\n      }\r\n      .qcode-footer {\r\n        margin: 50px 0 0;\r\n        font-size: 12px;\r\n        color: #838383;\r\n        text-align: center;\r\n      }\r\n    }\r\n    .divider {\r\n      height: 240px;\r\n      background: #d9d9d9;\r\n    }\r\n    /deep/ .login-form-wrap {\r\n      width: 50%;\r\n      @media screen and (max-width: 1024px) {\r\n        width: 100%;\r\n        margin: 0 auto;\r\n      }\r\n      .login-form {\r\n        margin: 0 auto;\r\n        .ant-form-explain {\r\n          text-align: left;\r\n        }\r\n        .ant-input {\r\n          width: 100%;\r\n          height: 48px;\r\n          padding-left: 20px;\r\n        }\r\n        .login-form-button {\r\n          margin: 32px 0 0;\r\n          width: 100%;\r\n          height: 48px;\r\n          font-size: 18px;\r\n          font-weight: 700;\r\n          color: #fff;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=ef4ca250&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=ef4ca250&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ef4ca250\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}